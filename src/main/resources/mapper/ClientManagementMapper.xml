<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper  
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">  
<mapper namespace="team.zy.bms.dao.ClientManagementDao">  
	<resultMap type="team.zy.bms.bean.ClientInfo" id="clientResultMap">  
	    <id property="id" column="id" />  
	    <result property="username" column="username" />  
	    <result property="password" column="password" /> 
	    <result property="realname" column="realname" />
	    <result property="gender" column="gender" />
	    <result property="age" column="age" />
	    <result property="address" column="address" />
	    <result property="phone" column="phone" />
	    <result property="mail" column="mail" /> 
	    <result property="role" column="role" /> 
	    <result property="roleid" column="roleid" /> 
	</resultMap> 
    <!-- 按照用户名和密码查找 -->   
    <!-- 返回list只需配置resultmap,返回对象只需配置resulttype -->
    <select id="selectUserByUserName" resultMap="clientResultMap" >  
        select * from bsp_app.user_info t where t.username=#{clientInfo.username,jdbcType=VARCHAR}  
    </select>
    <!-- 增加 -->  
    <insert id="insertadminInfoById">  
        insert into bsp_app.user_info t (t.username,t.password,t.realname,t.gender,t.age,t.address,t.phone,t.mail)
        
        values(#{clientInfo.username},#{clientInfo.password},#{clientInfo.realname}
         
         ,#{clientInfo.gender},#{clientInfo.age},#{clientInfo.address},
         
         #{clientInfo.phone},#{clientInfo.mail},#{clientInfo.})  
    </insert> 
    <!-- 修改 -->
    <update id="updateInfoById" parameterType="team.zy.bms.bean.ClientInfo" >  
    	update bsp_app.user_info  
    <set >  
      <if test="clientInfo.username != null" >  
        username = #{clientInfo.username,jdbcType=VARCHAR},  
      </if>  
      <if test="clientInfo.password != null" >  
        password = #{clientInfo.password,jdbcType=VARCHAR},  
      </if>  
      <if test="clientInfo.realname != null" >  
        realname = #{clientInfo.realname,jdbcType=VARCHAR},  
      </if>  
      <if test="clientInfo.gender != null" >  
        gender = #{clientInfo.gender,jdbcType=VARCHAR},  
      </if>  
      <if test="clientInfo.age != null" >  
        age = #{clientInfo.age,jdbcType=INTEGER},  
      </if>  
      <if test="clientInfo.address != null" >  
        address = #{clientInfo.address,jdbcType=VARCHAR},  
      </if>  
      <if test="clientInfo.phone != null" >  
        phone = #{clientInfo.phone,jdbcType=VARCHAR},  
      </if>  
      <if test="clientInfo.mail != null" >  
        mail = #{clientInfo.mail,jdbcType=VARCHAR},  
      </if>    
    </set>  
    where id = #{clientInfo.id,jdbcType=VARCHAR}  
  </update>   
</mapper>  